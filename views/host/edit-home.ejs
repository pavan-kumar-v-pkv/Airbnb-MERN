<%- include('../partials/head.ejs') %>
</head>
<body class="airbnb-body">
    <%- include('../partials/nav.ejs') %>
    <main class="airbnb-main">
        <h2 class="airbnb-title"><%= editing ? "Edit" : "Add" %> a New Home</h2>
        <form action="/host/<%= editing ? 'edit-home/' : 'add-home' %>" method="POST" class="space-y-6">
            <input type="hidden" name="homeId" value="<%= editing ? home._id : '' %>">
            <div>
                <input type="text" name="title" value="<%= editing ? home.title : '' %>" placeholder="Home Title" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div>
                <textarea name="description" placeholder="Home Description" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"><%= editing ? home.description : '' %></textarea>
            </div>
            <div>
                <input type="number" name="price" value="<%= editing ? home.price : '' %>" placeholder="Price per Night" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div>
                <input type="text" name="location" value="<%= editing ? home.location : '' %>" placeholder="Location" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div class="flex gap-4">
                <div class="w-1/2">
                    <input type="number" name="bedrooms" value="<%= editing ? home.bedrooms : '' %>" placeholder="Number of Bedrooms" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
                </div>
                <div class="w-1/2">
                    <input type="number" name="bathrooms" value="<%= editing ? home.bathrooms : '' %>" placeholder="Number of Bathrooms" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
                </div>
            </div>
            <div>
                <input type="text" name="amenities" value="<%= editing ? (Array.isArray(home.amenities) ? home.amenities.join(', ') : home.amenities) : '' %>" placeholder="Amenities (comma separated)" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div class="flex gap-4">
                <button type="submit" value="<%= editing ? 'Update Home' : 'Add Home' %>"
                        class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                    <%= editing ? 'Update Home' : 'Add Home' %>
                </button>
                <a href="/" 
                   class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 no-underline inline-block">
                    Go back to home
                </a>
            </div>
        </form>
    </main>
</body>
</html>